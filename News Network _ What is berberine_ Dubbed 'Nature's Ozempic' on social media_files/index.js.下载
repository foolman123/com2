/*!TikTok attaches importance to your privacy and safety. We use this script to control webapi usages and make sure they are within our privacy policy.*/
!function(){"use strict";var t="main_thread",e="out_app",n="cookie_set_by_document",o="cookie_blocked_on_start",r="general_fetch",a="webapi",i="storage_use",c="sw_incompat",s="ready_for_msg",l="force_update_sw",p="frequency",u="cost_time",d="__PNS_RUNTIME_SW_EVENT__",f="__PNS_RUNTIME_SE_ERROR__",h="__PNS_RUNTIME__",m=function(t){if(t)try{return new URL(t)}catch(t){return}};function v(){var t,e=null===(t=document.currentScript)||void 0===t?void 0:t.src;try{var n=m(e);return(null==n?void 0:n.searchParams.get("globalName"))||h}catch(t){return h}}var y=function(t,e,n){t.splice(0,t.length-n+1),t.push(e)},k=100;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(),n=window[e];return n||(n={pendingEvents:[],pendingConfig:{},pendingListeners:{},errors:[],pushEvent:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=arguments.length>3?arguments[3]:void 0;y(n.pendingEvents,{eventName:e,eventDetail:o,source:r,options:a},k)},pushError:function(t){y(n.errors,t,20)}},window[e]=n),n}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=["log","error","warn"];function R(t){var e={},n=!0,o=!1,r=void 0;try{for(var a,i=function(){var n=a.value;e[n]=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];var a;t()&&(a=console)[n].apply(a,_(o))}},c=w[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)i()}catch(t){o=!0,r=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return e}var x=R((function(){return!1})),S=R((function(){return!1})),O=R((function(){return!0}));function j(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function q(t,e){var n=t,o=Object.keys(e),r=!0,a=!1,i=void 0;try{for(var c,s=o[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;if(n.startsWith(l)){n=e[l]+t.substring(l.length);break}}}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function E(t,e){var n=e.blocklist,o=e.allowlist,r=e.enableSameOriginBlock;if(n){var a=t.startsWith(location.origin),i=!0,c=!1,s=void 0;try{for(var l,p=n[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var u=l.value;if(t.startsWith(u)&&(!a||r&&a))return!0}}catch(t){c=!0,s=t}finally{try{i||null==p.return||p.return()}finally{if(c)throw s}}}if(o&&o.length>0){var d=!1,f=!0,h=!1,m=void 0;try{for(var v,y=o[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var k=v.value;t.startsWith(k)&&(d=!0)}}catch(t){h=!0,m=t}finally{try{f||null==y.return||y.return()}finally{if(h)throw m}}if(!d)return!0}return!1}var N=["127.0.0.1","localhost"],A=["is_test_only=1","slardar_heatmap"];function T(t,e,n){var o="string"==typeof t?m(t):t;if(!o)return n;var r="".concat(o.origin).concat(o.pathname),a=!0,i=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var p=s.value;if(p.urlPattern.some((function(t){return"*"===t||-1!==r.indexOf(t)})))return p}}catch(t){i=!0,c=t}finally{try{a||null==l.return||l.return()}finally{if(i)throw c}}}var $=function(){return new Response("request blocked",{status:410,statusText:"cross border request is not allowed",headers:{"x-pns-blocked":"1"}})},C=function(){return new Response("the request is blocked by pumbaa",{status:410,statusText:"request is not allowed",headers:{"x-pns-blocked":"1"}})},P="2",L="3",I="4",D=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|^accept$|^content-type$|password|^sec-|^user-agent$)","i"),H=new RegExp("(bearer|session)","i"),U=function(t,e){return!(!t||!e)&&(D.test(t)||H.test(e))},M=function(t){var e={};return t.forEach((function(t,n){var o;j(t,File)?Reflect.set(e,n,"file"):j(t,Blob)?Reflect.set(e,n,"blob"):Reflect.set(e,n,void 0===t?"undefined":(o=t)&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)})),e},W=function(t){var e=t.url,n=t.referrer,o=t.headers,r=t.method,a={};o.forEach((function(t,e){a[e]=t}));var i=o.get("Content-Type")||"",c="",s="",l="";try{var p=new URL(e);c=p.search,s=p.host,l=p.pathname}catch(t){}var u,d={request_url:e,request_host:s,request_path:l,header_names:Array.from(o.keys()).join(","),header_map:a,referrer:n,search:c,method:r,contentType:i,request_time:Date.now()},f=t.clone();["POST","PUT","PATCH"].includes(r)&&(i.includes("application/json")?d.body=f.json():i.includes("application/x-www-form-urlencoded")?d.body=f.text().then((function(t){return e=new URLSearchParams(t),n={},e.forEach((function(t,e){Reflect.set(n,e,t)})),n;var e,n})):i.includes("multipart/form-data")&&(d.body=f.formData().then((function(t){return M(t)}))),d.body=null===(u=d.body)||void 0===u?void 0:u.catch((function(){return{}})));return d};function B(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
B=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var r=e&&e.prototype instanceof u?e:u,a=Object.create(r.prototype),i=new R(o||[]);return a._invoke=function(t,e,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return S()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var c=g(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=l(t,e,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function u(){}function d(){}function f(){}var h={};c(h,r,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==e&&n.call(v,r)&&(h=v);var y=f.prototype=u.prototype=Object.create(h);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,a,i,c){var s=l(t[r],t,a);if("throw"!==s.type){var p=s.arg,u=p.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(u).then((function(t){p.value=t,i(p)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var r;this._invoke=function(t,n){function a(){return new e((function(e,r){o(t,n,e,r)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,c(y,"constructor",f),c(f,"constructor",d),d.displayName=c(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},k(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,r,a){void 0===a&&(a=Promise);var i=new b(s(e,n,o,r),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(y),c(y,i,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=x,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Q(t,e,n){return Q=K()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&X(r,n.prototype),r},Q.apply(null,arguments)}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Z(t)}function et(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}function nt(){return nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=et(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},nt.apply(this,arguments)}function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){c=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return a}(t,e)||at(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||at(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=at(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}var st="".trimStart||function(){return this.replace(/^[\s\uFEFF\xA0]+/,"")},lt=function(t){return"function"==typeof t},pt=function(){};var ut=function(){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),dt=function(t,e,n){ut(t,n)&&(e[n]=t[n])};function ft(t,e){if(!t)return[void 0,t];for(var n,o,r=t;r&&!o;)o=Object.getOwnPropertyDescriptor(r,e),n=r,r=Object.getPrototypeOf(r);return[o,n]}function ht(t,e,n){try{var o=ot(ft(t,e),2),r=o[0],a=o[1];if(!(null==r?void 0:r.configurable))return!1;var i={},c=r.set,s=r.get,l=n.set,p=n.get;return c&&l&&(i.set=function(t){l(t)||c.call(this,t)}),s&&p&&(i.get=function(){if(!p())return s.call(this)}),Object.defineProperty(a,e,i),!0}catch(t){}return!1}function mt(t,e,n,o){try{var r=ot(ft(t,e),2)[1];if("object"===F(r)&&r&&lt(r[e])){var a=r[e];r[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n.call.apply(n,[this].concat(e));return i?(null==o?void 0:o())||void 0:a.call.apply(a,[this].concat(e))}}}catch(t){}}function vt(t){return t>Math.random()}function yt(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(new Error).stack;return null!==(t=null==n?void 0:n.split("\n").slice(e).map((function(t){return t.trim()})).join("\n"))&&void 0!==t?t:""}function kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(var o in e)n+="; ".concat(o),n+="=".concat(e[o].split(";")[0]);document.cookie="".concat(t,"=; expires=").concat(new Date(Date.now()-864e5).toUTCString()).concat(n)}function bt(t){var e=t.split("=").slice(1).join("=");try{'"'===e[0]&&(e=e.slice(1,-1)),e=e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}catch(t){}return e}function gt(t,e){return function(){Math.random()<e&&t.apply(void 0,arguments)}}function _t(t,e,n){return function(){try{var o=t.apply(void 0,arguments);return o}catch(t){return x.error(t),null==e||e(t),n}}}function wt(t,e){var n=b();return _t(t,(function(t){return n.pushError(t)}),e)}/iPhone|iPad/.test(navigator.userAgent);var Rt="cookie-consent";function xt(t){var e=document.head.querySelector(t);if(!e)return null;var n=e.content.split(",").reduce((function(t,e){var n=ot(e.split("="),2),o=n[0],r=n[1];return t[o]=r,t}),{});return n}function St(){var t={},e=xt("meta[name=pumbaa-web-config]");if(e)for(var n=0,o=Object.keys(e);n<o.length;n++){var r=o[n],a=e[r];Object.assign(t,Y({},r,["true","false"].includes(a)?"true"===a:a))}else if(document.currentScript){var i=document.currentScript.dataset;Object.assign(t,null!=i?i:{})}return function(t,e){var n,o={},r=ct(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(Array.isArray(a)){var i,c=ct(a);try{for(c.s();!(i=c.n()).done;){var s=i.value;dt(t,o,s)}}catch(t){c.e(t)}finally{c.f()}}else dt(t,o,a)}}catch(t){r.e(t)}finally{r.f()}return o}(t,["business","env","region","sw","theme","host"])}function Ot(t){var e={};try{for(var n=JSON.parse(t),o=0,r=Object.keys(n);o<r.length;o++){var a=r[o];e["cookie_".concat(a)]=n[a]}}catch(t){}return e}function jt(){var t=function(t){if("undefined"!=typeof document)for(var e=document.cookie?document.cookie.split("; "):[],n=0;n<e.length;n++){var o=e[n].split("=");try{if(t===decodeURIComponent(o[0]))return bt(e[n])}catch(t){}}}(Rt);return t?Ot(t):{}}var qt,Et=[];var Nt=wt((function(){if(!qt){var t=null!==(s=xt("meta[name=pumbaa-ctx]"))&&void 0!==s?s:{},e=t.login,n=t.ftc,o=location.href,r=St().region,a=jt(),i=Object.assign({login:e,ftc:n,url:o,region:r},a);c=function(){var t=location.href;Nt().updatePageContext({url:t})},window.addEventListener("popstate",c),["pushState","replaceState"].forEach((function(t){var e=History.prototype[t];History.prototype[t]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n),c()}})),qt=i}var c,s,l=wt((function(t){for(var e=Object.keys(t),n={},o=0,r=e;o<r.length;o++){var a=r[o];qt[a]!==t[a]&&(n[a]=t[a])}if(0!==Object.keys(n).length){Object.assign(qt,n);var i,c=ct(Et);try{for(c.s();!(i=c.n()).done;){var s=i.value;s.fields.some((function(t){return void 0!==n[t]}))&&s.func(qt)}}catch(t){c.e(t)}finally{c.f()}}}));return{pageContext:qt,updatePageContext:l}}));function At(t){var e=t.split("=")[0];return e?st.call(e):void 0}function Tt(t){var e,n=t.split(";"),o=!1,r=n.shift(),a=r?decodeURIComponent(r.split("=")[1]):void 0,i=ct(n);try{for(i.s();!(e=i.n()).done;){var c=e.value,s=ot(st.apply(c).split("=")[0],2),l=s[0],p=s[1];if("max-age"===l&&Number(p)<0)return;"expires"===l&&(o=Date.parse(p)<Date.now())}}catch(t){i.e(t)}finally{i.f()}return o?void 0:a}var $t,Ct,Pt=($t=[],function(){if(0===$t.length)for(var t=location.hostname.split(".").filter(Boolean),e=t.length,n=0;n<e-1;n++){var o=t.slice(n).join(".");$t.push(o,".".concat(o)),$t.push(o,o)}return $t}),Lt=(Ct=[],function(){if(0===Ct.length){Ct.push("/");for(var t=location.pathname.split("/").filter(Boolean),e=t.length,n=0;n<e;n++)Ct.push("/".concat(t.slice(0,e-n).join("/")))}return Ct});var It=function(t,e){var r=function(t){var e,n=t.blockers,o=ct(void 0===n?[]:n);try{for(o.s();!(e=o.n()).done;){var r=e.value,a=r.domains,i=void 0===a?[]:a,c=r.cookies,s=void 0===c?[]:c;if(i.some((function(t){return location.hostname.endsWith(t)})))return s}}catch(t){o.e(t)}finally{o.f()}return[]}(e);!function(t,e){var n,o=ct(document.cookie.split(";").filter(Boolean));try{for(o.s();!(n=o.n()).done;){var r=At(n.value);if(-1!==t.indexOf(r)){var a,i=Pt(),c=Lt(),s=ct(i);try{for(s.s();!(a=s.n()).done;){var l,p=a.value,u=ct(c);try{for(u.s();!(l=u.n()).done;)kt(r,{domain:p,path:l.value})}catch(t){u.e(t)}finally{u.f()}}}catch(t){s.e(t)}finally{s.f()}e(r)}}}catch(t){o.e(t)}finally{o.f()}}(r,(function(e){t.pushEvent(o,{cookie:e})})),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ht(document,"cookie",{set:function(n){var o,r=!1,a=At(n);return"string"==typeof n&&(r=e.includes(a),t({value:n,blocked:r})),a===Rt&&Nt().updatePageContext(Ot(null!==(o=Tt(n))&&void 0!==o?o:"{}")),r}}),mt(window.cookieStore,"set",(function(){for(var t=!1,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return 1===o.length&&"object"===F(o[0])&&o[0]?t=e.includes(o[0].name):2===o.length&&"string"==typeof o[0]&&(t=e.includes(o[0])),t}),Promise.reject)}(wt((function(e){t.pushEvent(n,e)})),r)};function Dt(t,e,n,o){return new(n||(n=Promise))((function(r,a){function i(t){try{s(o.next(t))}catch(t){a(t)}}function c(t){try{s(o.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}s((o=o.apply(t,e||[])).next())}))}var Ht="setItem",Ut="getItem",Mt="removeItem",Wt=function(){try{return!!window.localStorage}catch(t){return!1}}(),Bt=function(t,e){var n;Wt&&(n=wt((function(e){t.pushEvent(i,e)})),mt(localStorage,Ut,(function(t){return n({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:Ut,key:t}),!1})),mt(localStorage,Mt,(function(t){return n({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:Mt,key:t}),!1})),mt(localStorage,Ht,(function(t,e){return n({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:Ht,key:t,value:e}),!1})))},Ft="webapi",zt="network",Gt="onvisibilitychange"in document&&Wt&&"function"==typeof navigator.sendBeacon,Jt="PUMBAA_FREQ",Yt=function(t){if(null===t)return{};var e=function(t){if("string"!=typeof t)return null;try{return JSON.parse(t)}catch(t){return null}}(t);return null===e||"object"!==F(e)?{}:Object.keys(e).filter((function(t){return"number"==typeof e[t]})).reduce((function(t,n){return t[n]=e[n],t}),{})},Vt=function(t,e,n){var o=e;if(""!==t&&(o="".concat(t,".").concat(e)),n&&Object.keys(n).length>0){var r=Math.max.apply(Math,rt(Object.keys(n).map(Number)))+1,a=Array.from(Object.assign(Object.assign({},n),{length:r})).map((function(t){var e=F(t);return"string"===e?"'".concat(t,"'"):"undefined"===e?"":"".concat(t)})).join(",");o="".concat(o,"(").concat(a,")")}return o},Xt=function(t,e){switch(e){case Ft:var n=t.apiObj,o=t.apiName,r=t.paramCondition;return Vt(n,o,r);case zt:return"".concat(e,"_").concat(t.ruleName);default:return""}},Kt=function(t){var e,n;if(!Gt)return[];for(var o,r,a=Yt(localStorage.getItem(Jt)),i=null!=a?a:{},c=0,s=Object.keys(t);c<s.length;c++){var l,p=s[c],u=ct(null!==(e=t[p])&&void 0!==e?e:[]);try{for(u.s();!(l=u.n()).done;){var d=l.value,f=Xt(d,p),h=null!==(n=d.freqSampleRate)&&void 0!==n?n:0,m=f in a&&(o=h,r=a[f]%1,Math.abs(o-r)<Number.EPSILON);i[f]=m?a[f]:Math.max(0,Math.min(1,h))+(Math.random()<h?1:0)}}catch(t){u.e(t)}finally{u.f()}localStorage.setItem(Jt,JSON.stringify(i))}var v=Object.keys(i).filter((function(t){return i[t]>1&&i[t]<=2}));return v};function Qt(t,e){for(var n in e){var o=e[n];if(t[n]!==o)return!1}return!0}var Zt=pt,te=function(t,e){var n,o=e.apis,r=t.webapiHook,a=t.webapiFreqHook,i=Kt({webapi:o}),c=ct(o);try{var s=function(){var t=n.value,e=t.sampleRate,o=t.apiType,c=t.apiObj,s=t.block,l=t.blockWithCallbackParams,p=t.blockWithCallbackIdx,u=t.apiName,d=t.paramCondition,f=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,o=ct(t.split(".").filter(Boolean));try{for(o.s();!(e=o.n()).done;){if(!(n=n[e.value]))return null}}catch(t){o.e(t)}finally{o.f()}return n}(c);if(!f)return"continue";var h=_t((function(){for(var n=arguments.length,o=new Array(n),f=0;f<n;f++)o[f]=arguments[f];if(!Qt(o,d))return!1;if(vt(e)&&r({apiRule:t,args:o}),s&&(Zt(Vt(c,u)),"number"==typeof p)){var h=o[p];"function"==typeof h&&h.apply(null,[].concat(l))}return a&&!s&&i.includes(Vt(c,u,d))&&a({type:Ft,eventDetail:t,time:Date.now()}),Boolean(s)}),void 0,!1);switch(o){case"method":mt(f,u,h);break;case"attribute_set":ht(f,u,{set:h});break;case"attribute_get":ht(f,u,{get:h});break;case"constructor":!function(t,e,n){try{return lt(null==t?void 0:t[e])&&void 0!==window.Proxy&&(t[e]=new Proxy(t[e],{construct:function(t,e){return n.apply(void 0,rt(e))?null:Q(t,rt(e))}})),!0}catch(t){}}(f,u,h)}};for(c.s();!(n=c.n()).done;)s()}catch(t){c.e(t)}finally{c.f()}},ee=[],ne=function(t,e){var n=m(t);return!!n&&e.some((function(t){return"".concat(n.host).concat(n.pathname).startsWith(t)}))},oe=function(t){return ne(location.href,t)},re=function(t,e){return ne(e,t)},ae=function(t){return"urlPattern"in t},ie=function(t,e){var n,o;if("object"!==F(e))return!1;if(void 0!==e.$eq&&t!==e.$eq||void 0!==e.$ne&&t===e.$ne||void 0!==e.$exists&&void 0===t)return!1;try{o="string"==typeof t?t:null!==(n=JSON.stringify(t))&&void 0!==n?n:""}catch(t){return!1}return!(void 0!==e.$regex&&!new RegExp(e.$regex,e.$options).test(o)||void 0!==e.$text&&-1===o.indexOf(e.$text)||void 0!==e.$prefix&&!o.startsWith(e.$prefix))};function ce(t,e){var n,o=encodeURIComponent(e),r=ct(("?"===t[0]?t.slice(1):t).split("&"));try{for(r.s();!(n=r.n()).done;){var a=ot(n.value.split("="),2),i=a[0],c=a[1];if(i===o)return decodeURIComponent(c)}}catch(t){r.e(t)}finally{r.f()}}var se=function(t){return t&&"function"==typeof t.then},le=function(t){return function(e){return se(t)?t.then(e):e(t)}};function pe(t,e){var n,o;e.type;var r=e.pattern;switch(e.type){case"body":if("string"!=typeof t.contentType||-1===t.contentType.indexOf("application/json"))return!1;var a=t.body,i=e.field,c=function(t){try{var e,n=ct(i);try{for(n.s();!(e=n.n()).done;){t=t[e.value]}}catch(t){n.e(t)}finally{n.f()}}catch(t){return!1}return!!ie(t,r)};return se(a)?a.then(c,(function(){return!1})):c(a);case"url":if(ie(t.request_url,r))return!0;break;case"host":if(ie(t.request_host,r))return!0;break;case"path":if(ie(t.request_path,r))return!0;break;case"search":if(!t.search)return!1;var s=ce(t.search,e.field);if(ie(s,r))return!0;break;case"header":if(ie(null!==(o=null===(n=t.header_map)||void 0===n?void 0:n[e.field])&&void 0!==o?o:"",r))return!0;break;case"method":if(ie(t.method,r))return!0}return!1}function ue(t,e,n,o,r){switch(e.handler){case"function":return ee[e.value](t,Nt().pageContext);case"replace":return void 0===e.pattern?e.value:function(t,e,n){var o;if(!ie(t,e))return t;if(void 0!==e.$eq)return n;var r="string"==typeof t,a=r?t:null!==(o=JSON.stringify(t))&&void 0!==o?o:"";return void 0!==e.$regex?a=a.replace(new RegExp(e.$regex,e.$options),n):void 0!==e.$text?a=a.replace(e.$text,n):void 0!==e.$prefix&&(a=a.replace(e.$prefix,n)),wt((function(){return r?a:JSON.parse(a)}),t)()}(n(),e.pattern,e.value);case"remove":return o;case"empty":return r}}function de(t,e){var n,o,r,a,i,c,s,l,p,u,d,f,h=t;switch(e.type){case"body":if("string"!=typeof(null===(n=h.header_map)||void 0===n?void 0:n["content-type"])||-1===(null===(r=null===(o=h.header_map)||void 0===o?void 0:o["content-type"])||void 0===r?void 0:r.indexOf("application/json")))return h;var v=e.type,y=e.field,k=function(t){var n,o=ue(t,e,(function(){return function(t,e){try{var n,o=t,r=ct(e);try{for(r.s();!(n=r.n()).done;)o=o[n.value]}catch(t){r.e(t)}finally{r.f()}return o}catch(t){}}(t,["body"].concat(rt(y)))}),void 0,null);return function(t,e,n){var o=t;try{var r,a=e.pop(),i=ct(e);try{for(i.s();!(r=i.n()).done;)o=o[r.value]}catch(t){i.e(t)}finally{i.f()}o[a]=n}catch(t){}}(t,["body"].concat(rt(y)),o),t._replaced_fields=[].concat(rt(null!==(n=t._replaced_fields)&&void 0!==n?n:[]),[v]),t._modified=!0,t};return se(h.body)?h.body.then((function(t){return h.body=t,h})).then(k):k(h);case"url":var b=ue(h,e,(function(){return h.request_url})),g=m(b);h.request_url=b,h.request_host=g.host,h.request_path=g.pathname,h.search=g.search,h._replaced_fields=[].concat(rt(null!==(a=h._replaced_fields)&&void 0!==a?a:[]),[e.type]);break;case"host":var _=ue(h,e,(function(){return h.request_host}),"",""),w=m(h.request_url);w.host=_,h.request_url=w.href,h.request_host=_,h._replaced_fields=[].concat(rt(null!==(i=h._replaced_fields)&&void 0!==i?i:[]),["url"]);break;case"path":var R=ue(h,e,(function(){return h.request_path}),"",""),x=m(h.request_url);x.pathname=R,h.request_url=x.href,h.request_path=R,h._replaced_fields=[].concat(rt(null!==(c=h._replaced_fields)&&void 0!==c?c:[]),["url"]);break;case"search":var S=ue(h,e,(function(){return ce(h.search,e.field)}),void 0,""),O=function(t,e,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=encodeURIComponent(e),a="?"===t[0],i=(a?t.slice(1):t).split("&"),c=!1,s=0;s<i.length;s++){var l=ot(i[s].split("="),2),p=l[0];if(l[1],p===r){if(c=!0,void 0===n){i.splice(s,1);break}var u=encodeURIComponent(n);i[s]="".concat(r,"=").concat(u);break}}if(o&&!c&&void 0!==n){var d=encodeURIComponent(n);i.push("".concat(r,"=").concat(d))}return"".concat(a?"?":"").concat(i.join("&"))}(h.search,e.field,S),j=m(h.request_url);j.search=O,h.request_url=j.href,h.search=O,h._replaced_fields=[].concat(rt(null!==(s=h._replaced_fields)&&void 0!==s?s:[]),["url"]);break;case"header":var q=ue(h,e,(function(){var t;return null===(t=h.header_map)||void 0===t?void 0:t[e.field]}),void 0,"");void 0===q?null===(l=h.header_map)||void 0===l||delete l[e.field]:h.header_map=Object.assign(Object.assign({},null!==(p=h.header_map)&&void 0!==p?p:{}),Y({},e.field,q)),h.header_names=Object.keys(null!==(u=h.header_map)&&void 0!==u?u:{}).join(","),h._replaced_fields=[].concat(rt(null!==(d=h._replaced_fields)&&void 0!==d?d:[]),[e.type]);break;case"method":var E=ue(h,e,(function(){return h.method}),"","");h.method=E,h._replaced_fields=[].concat(rt(null!==(f=h._replaced_fields)&&void 0!==f?f:[]),[e.type]);break;default:return h}return h._modified=!0,h}function fe(t,e){if(e.some((function(t){return"block"===t.handler})))return t._blocked=!0,t._modified=!0,t;var n,o=t,r=ct(e);try{var a=function(){var e=n.value;if("report"===e.handler)return o._report=!0,"continue";o=se(t)?t.then((function(t){return de(t,e)})):de(t,e)};for(r.s();!(n=r.n()).done;)a()}catch(t){r.e(t)}finally{r.f()}return o}var he=function(t,e){return wt((function(t,e){t._modified=!1,t._report=!1;var n=function(t,e){var n,o=!0,r=ct(e);try{for(r.s();!(n=r.n()).done;){var a=pe(t,n.value);if(!a||!o)return!1;(se(a)||se(o))&&(o=Promise.all([a,o]).then((function(t){var e=ot(t,2),n=e[0],o=e[1];return n&&o}),(function(){return!1})))}}catch(t){r.e(t)}finally{r.f()}return o}(t,e.conditions.filter((function(t){return"context"!==t.type})));function o(t){return(t._report||t._modified)&&(t.rule_name="".concat(t.rule_name?"".concat(t.rule_name,","):"").concat(e.ruleName)),t}return se(n)?n.then((function(n){return n?fe(t,e.handlers):t})).then(o):o(n?fe(t,e.handlers):t)}),t)(t,e)},me=function(t){var e,n,o,r=function(t){return Object.assign(Object.assign({},t),{header_map:t.header_map?Object.assign({},t.header_map):void 0})}(t);return Object.keys(r).filter((function(t){return"_"===t[0]})).forEach((function(t){return delete r[t]})),r.contentType=null!==(n=null===(e=t.header_map)||void 0===e?void 0:e["content-type"])&&void 0!==n?n:"",r.header_map=function(t){var e={};for(var n in t){var o=t[n];U(n,o)||(e[n]=o)}return e}(null!==(o=null==r?void 0:r.header_map)&&void 0!==o?o:{}),r.header_names=Object.keys(r.header_map).join(","),r},ve=function(t,e,n,o){for(var r={},a=0,i=["content-type"];a<i.length;a++){var c=i[a],s=null==e?void 0:e(c);"string"==typeof s&&(r[c]=s)}le(o)((function(e){n(Object.assign(Object.assign({},e),{resp_status:t,resp_header:r}))}))};function ye(t){var e=t.switcher,n=t.request,o=t.eventDetail,r=e.callback,a=e.callbackEnabled,i=e.activeInterceptRules;if(function(t,e){var n=m(e);if(n){var o=n.search;if(o)for(var r=0;r<A.length;r++)if(-1!==o.indexOf(A[r]))return!0}var a=m(t);return!(!a||-1===N.indexOf(a.hostname))}(o.request_url,document.URL))return n;t.callstack&&(o.stack=t.callstack);var c,s=ct(i);try{var l=function(){var t=c.value;le(o)((function(e){o=ae(t)?function(t,e){var n,o,r,a,i=e.replace,c=e.allowlist,s=e.blocklist,l=e.enableSameOriginBlock,p=!1,u=t.request_url,d=!1;if(i&&(p=(u=q(u,i))!==t.request_url),(s||c)&&(d=E(u,{allowlist:c,blocklist:s,enableSameOriginBlock:l})),d)t["x-pns-block"]="1";else if(p){t.request_url=u;var f=m(u);t.request_host=null!==(n=null==f?void 0:f.host)&&void 0!==n?n:"",t.request_path=null!==(o=null==f?void 0:f.pathname)&&void 0!==o?o:"",t.search=null!==(r=null==f?void 0:f.search)&&void 0!==r?r:"",null!==(a=t._replaced_fields)&&void 0!==a||(t._replaced_fields=[]),t._replaced_fields.push("url"),t["x-pns-replace"]="1"}return(d||p)&&(t.rule_name="".concat(t.rule_name?"".concat(t.rule_name,","):"").concat(e.ruleName)),t}(e,t):he(e,t)}))};for(s.s();!(c=s.n()).done;)l()}catch(t){s.e(t)}finally{s.f()}return le(o)((function(e){var o,i,c;if("1"===e["x-pns-block"]?c=$():e._blocked&&(c=C()),se(e.body))t.reportRequestEventDetail=e.body.then((function(t){var n=Object.assign(Object.assign({},e),{body:t});return me(n)}));else{var s=me(e);t.reportRequestEventDetail=s}if(a.freq&&(null===(o=r.freq)||void 0===o||o.call(r,e)),c)return c;e._remove_body=-1!==(null!==(i=e._replaced_fields)&&void 0!==i?i:[]).indexOf("method")&&-1!==["GET","HEAD"].indexOf(e.method);var l=function(t,e){var n;if(!e._replaced_fields||0===e._replaced_fields.length)return t;var o=-1!==e._replaced_fields.indexOf("body"),r=function(){var n=Promise.resolve(void 0);return e._remove_body?Promise.resolve(void 0):(o?n=Promise.resolve(JSON.stringify(e.body)):t.headers.get("Content-Type")&&-1===["GET","HEAD"].indexOf(t.method.toUpperCase())&&(n=t.blob()),n)},a=t;if(-1!==e._replaced_fields.indexOf("url")||e._remove_body)a=r().then((function(n){var o,r={method:e.method,headers:new Headers(null!==(o=e.header_map)&&void 0!==o?o:{}),referrer:t.referrer,referrerPolicy:t.referrerPolicy,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,integrity:t.integrity,keepalive:t.keepalive,signal:t.signal,body:n};return new Request(e.request_url,r)}));else{var i={};-1!==e._replaced_fields.indexOf("method")&&(i.method=e.method),-1!==e._replaced_fields.indexOf("header")&&(i.headers=new Headers(null!==(n=e.header_map)&&void 0!==n?n:{})),a=o?r().then((function(e){return i.body=e,new Request(t,i)})):new Request(t,i)}return a}(n,e);return l}))}var ke={request_url:"",request_host:"",request_path:"",search:"",method:"",source:L,request_time:0};function be(t,e,n){n.addEventListener("load",(function(){ve(n.status,n.getResponseHeader.bind(n),e,t)}))}var ge={};function _e(t){var e=t.OriginalXHR,n=t.rule,o=t.switcher;if(0===Object.keys(ge).length)for(var r in e.prototype)ge[r]={enumerable:!0};return function(){var t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(i,t);var e,r,a=(e=i,r=K(),function(){var t,n=V(e);if(r){var o=V(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return tt(this,t)});function i(){var t;return z(this,i),(t=a.call(this)).__pumbaa_status=null,t.__pumbaa_readyState=null,t.__pumbaa_statusText=null,t.__pumbaa_detail=ke,Z(t)instanceof i||Object.setPrototypeOf(Z(t),(this instanceof i?this.constructor:void 0).prototype),t.__pumbaa_callbackEnabled=Object.assign({},o.callbackEnabled),t}return J(i,[{key:"status",get:function(){return null===this.__pumbaa_status?nt(V(i.prototype),"status",this):this.__pumbaa_status},set:function(t){this.__pumbaa_status=t}},{key:"statusText",get:function(){return null===this.__pumbaa_statusText?nt(V(i.prototype),"statusText",this):this.__pumbaa_statusText},set:function(t){this.__pumbaa_statusText=t}},{key:"readyState",get:function(){return null===this.__pumbaa_readyState?nt(V(i.prototype),"readyState",this):this.__pumbaa_readyState},set:function(t){this.__pumbaa_readyState=t}},{key:"__pumbaa_hookFunc",value:function(t){var e=this;return function(){for(var n,o,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];if(e["__pumbaa_".concat(t)]){var s=wt(null===(o=e["__pumbaa_".concat(t)])||void 0===o?void 0:o.bind(e)).apply(void 0,a);if(!0===s)return;if(s&&("getResponseHeader"===t||"getAllResponseHeaders"===t))return s}return(n=nt(V(i.prototype),t,e)).call.apply(n,[e].concat(a))}}},{key:"getResponseHeader",value:function(){return this.__pumbaa_hookFunc("getResponseHeader").apply(void 0,arguments)}},{key:"getAllResponseHeaders",value:function(){return this.__pumbaa_hookFunc("getAllResponseHeaders").apply(void 0,arguments)}},{key:"setRequestHeader",value:function(){return this.__pumbaa_hookFunc("setRequestHeader").apply(void 0,arguments)}},{key:"open",value:function(){return this.__pumbaa_hookFunc("open").apply(void 0,arguments)}},{key:"send",value:function(){return this.__pumbaa_hookFunc("send").apply(void 0,arguments)}},{key:"abort",value:function(){return this.__pumbaa_hookFunc("abort").apply(void 0,arguments)}},{key:"__pumbaa_getResponseHeader",value:function(){var t;if(void 0!==(null===(t=this.__pumbaa_res)||void 0===t?void 0:t.headers)){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=(null==n?void 0:n[0])?n[0].trim():"";if((r=r.toLowerCase())&&r in this.__pumbaa_res.headers)return this.__pumbaa_res.headers[r]}}},{key:"__pumbaa_getAllResponseHeaders",value:function(){var t;if(void 0!==(null===(t=this.__pumbaa_res)||void 0===t?void 0:t.headers)){var e="";return Object.keys(this.__pumbaa_res.headers).forEach((function(t){e="".concat(e+t,": ").concat(this._res.headers[t],"\r\n")})),e+nt(V(i.prototype),"getAllResponseHeaders",this).call(this)}}},{key:"__pumbaa_setRequestHeader",value:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return this.__pumbaa_detail.header_map=Object.assign(Object.assign({},this.__pumbaa_detail.header_map),Y({},n[0].toLowerCase(),n[1])),(t=nt(V(i.prototype),"setRequestHeader",this)).call.apply(t,[this].concat(n)),!0}},{key:"__pumbaa_open",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0].toUpperCase(),c=new URL(n[1],location.href);this.__pumbaa_detail=Object.assign(Object.assign({},ke),{method:a,request_url:c.href,request_host:c.host,request_path:c.pathname,search:c.search});var s,l=ct(o.activeInterceptRules);try{for(l.s();!(s=l.n()).done;){var p=s.value;if(ae(p)){var u=p.ruleName,d=p.replace,f=p.allowlist,h=p.blocklist,m=p.enableSameOriginBlock,v=this.__pumbaa_detail.request_url;if(d){var y=(v=q(v,d))!==this.__pumbaa_detail.request_url;y&&(this.__pumbaa_detail.request_url=v,this.__pumbaa_detail["x-pns-replace"]="1",this.__pumbaa_detail.rule_name="".concat(this.__pumbaa_detail.rule_name?"".concat(this.__pumbaa_detail.rule_name,","):"").concat(u))}if(h||f){var k=E(v,{allowlist:f,blocklist:h,enableSameOriginBlock:m});k&&(this.__pumbaa_detail["x-pns-block"]="1",this.__pumbaa_detail.rule_name="".concat(this.__pumbaa_detail.rule_name?"".concat(this.__pumbaa_detail.rule_name,","):"").concat(u))}}else this.__pumbaa_detail=he(this.__pumbaa_detail,p)}}catch(t){l.e(t)}finally{l.f()}var b=[this.__pumbaa_detail.method,this.__pumbaa_detail.request_url].concat(rt(n.slice(2)));return(t=nt(V(i.prototype),"open",this)).call.apply(t,[this].concat(rt(b))),!0}},{key:"__pumbaa_send",value:function(){var t,e,r,a,c,s,l=this;this.__pumbaa_detail.request_time=Date.now(),this.__pumbaa_detail.header_names=Object.keys(null!==(t=this.__pumbaa_detail.header_map)&&void 0!==t?t:{}).join(",");var p=arguments.length<=0?void 0:arguments[0];-1!==["GET","HEAD"].indexOf(this.__pumbaa_detail.method)&&(p=void 0);var u=void 0!==p&&"string"==typeof(null===(e=this.__pumbaa_detail.header_map)||void 0===e?void 0:e["content-type"])&&-1!==this.__pumbaa_detail.header_map["content-type"].indexOf("application/json")&&"string"==typeof p;this.__pumbaa_detail.body=u?JSON.parse(p):p;var d,f=ct(o.activeInterceptRules);try{for(f.s();!(d=f.n()).done;){var h=d.value;if(!ae(h)){var v=h.handlers.filter((function(t){return-1!==["body","header"].indexOf(t.type)}));this.__pumbaa_detail=he(this.__pumbaa_detail,Object.assign(Object.assign({},h),{handlers:v}))}}}catch(t){f.e(t)}finally{f.f()}var y=m(this.__pumbaa_detail.request_url);if(y){var k=(null!==(r=n.withStack)&&void 0!==r?r:[]).filter((function(t){return oe(t.urlPattern)})),b=k.find((function(t){return re(t.endpoint,l.__pumbaa_detail.request_url)})),g=me(this.__pumbaa_detail);b&&gt((function(){return g.stack=yt(9)}),b.rate)(),be(g,o.callback.report,this),this.__pumbaa_callbackEnabled.freq&&(null===(c=(a=o.callback).freq)||void 0===c||c.call(a,g))}if("1"===this.__pumbaa_detail["x-pns-block"]||this.__pumbaa_detail._blocked){var _="1"===this.__pumbaa_detail["x-pns-block"]?$():C();return this.__pumbaa_is_aborted||(this.status=_.status,this.readyState=4,this.statusText=_.statusText,this.__pumbaa_res={headers:rt(_.headers).reduce((function(t,e){var n=ot(e,2),o=n[0],r=n[1];return t[o]=r,t}),{})},O.error("".concat(this.__pumbaa_detail.method," ").concat(this.__pumbaa_detail.request_url," ").concat(this.status," (").concat(this.statusText,")"))),!0}return-1!==(null===(s=this.__pumbaa_detail._replaced_fields)||void 0===s?void 0:s.indexOf("body"))?(nt(V(i.prototype),"send",this).call(this,u?JSON.stringify(this.__pumbaa_detail.body):this.__pumbaa_detail.body),!0):(nt(V(i.prototype),"send",this).call(this,p),!0)}},{key:"__pumbaa_abort",value:function(){this.__pumbaa_is_aborted=!0}}]),i}(e);for(var r in t.prototype)delete ge[r];return Object.defineProperties(t.prototype,ge),t}()}var we="PerformanceObserver"in window,Re=["xmlhttprequest","fetch"];var xe,Se,Oe,je=wt((function(t,e){var n=function(){var t=[];return document.addEventListener("securitypolicyviolation",(function(e){var n=m(e.blockedURI);n&&"report"!==e.disposition&&-1===t.indexOf(n.href)&&(100===t.length&&t.shift(),t.push(n.href))})),t}(),o=we?new PerformanceObserver((function(o){var r,a;(null===(r=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)&&(a=T(document.URL,t)),setTimeout((function(){o.getEntries().forEach((function(t){-1===n.indexOf(t.name)&&(Re.includes(t.initiatorType)||function(t,e){if(!t||!ae(t))return!1;var n=e.name,o=t.replace,r=t.blocklist,a=t.allowlist,i=t.enableSameOriginBlock,c=o&&q(n,o)!==n,s=!1;return(r||a)&&(s=E(n,{allowlist:a,blocklist:r,enableSameOriginBlock:i})),c||s}(a,t)||e(t))}))}),100)})):null;try{null==o||o.observe({type:"resource",buffered:!0})}catch(t){null==o||o.observe({entryTypes:["resource"]})}}));!function(t){t[t.SW_READY=0]="SW_READY"}(Oe||(Oe={}));var qe=function(){function t(e,n,o,r){var a;if(z(this,t),null!==t._instance)return t._instance;this.rule=n,this.states=Y({},Oe.SW_READY,0);var i,c,s,l=(null!==(a=this.rule.intercept)&&void 0!==a?a:[]).reduce((function(t,e){return ae(e)?t.push("url"):e.conditions.forEach((function(e){"context"===e.type&&t.push(e.field)})),t}),[]);this.matchRulesByPageContext(r),i=this.matchRulesByPageContext.bind(this),s=l.reduce((function(t,e){return t[e]=null,t}),{}),c=Object.keys(s),Et.push({func:i,fields:c}),this.callback=e,this.callbackEnabled=o,this.initPerformance(),this.hookFetch(),this.hookXHR(),t._instance=this}return J(t,[{key:"setState",value:function(t,e){this.states[t]=e}},{key:"getState",value:function(t){return this.states[t]}},{key:"matchRulesByPageContext",value:function(t){var e,n;this.activeInterceptRules=(null!==(n=null===(e=this.rule)||void 0===e?void 0:e.intercept)&&void 0!==n?n:[]).filter((function(e){return ae(e)?e.urlPattern.some((function(e){return"*"===e||-1!==t.url.indexOf(e)})):e.conditions.every((function(e){return"context"!==e.type||ie(t[e.field],e.pattern)}))})).sort((function(t,e){var n,o;return(null!==(n=t.priority)&&void 0!==n?n:100)-(null!==(o=e.priority)&&void 0!==o?o:100)}))}},{key:"hookFetch",value:function(){var t=this;if(window.fetch){var e=this.callback;null!=xe||(xe=window.fetch),window.fetch=function(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];var i=Q(Request,r),c=Object.assign(Object.assign({},W(i)),{source:I}),s={request:i,switcher:t,eventDetail:Object.assign(Object.assign({},c),{source:I})},l=(null!==(n=t.rule.withStack)&&void 0!==n?n:[]).filter((function(t){return oe(t.urlPattern)})),p=l.find((function(t){return re(t.endpoint,s.request.url)}));p&&gt((function(){return s.callstack=yt(5)}),p.rate)();var u,d=ye(s);function f(t){return t instanceof Request?xe(t):Promise.resolve(t)}function h(t){var n=wt((function(t){var n,o=t.status,r=s.reportRequestEventDetail;ve(o,null===(n=t.headers)||void 0===n?void 0:n.get.bind(t.headers),e.report,r)}));t.then(n).catch((function(){}))}return h(u=se(d)?d.then(f):f(d)),u}}}},{key:"hookXHR",value:function(){null!=Se||(Se=window.XMLHttpRequest);var t=_e({OriginalXHR:Se,rule:this.rule,reporter:this.callback,switcher:this});window.XMLHttpRequest=t}},{key:"initPerformance",value:function(){var t,e,n=this;je(null!==(e=null===(t=this.activeInterceptRules)||void 0===t?void 0:t.filter(ae))&&void 0!==e?e:[],(function(t){var e,o,r=m(t.name);if(void 0!==r){var a={request_url:r.href,request_host:r.host,request_path:r.pathname,method:"UNKNOWN",source:P,search:r.search,request_time:Math.trunc(t.startTime+performance.timeOrigin),initiator_type:t.initiatorType,resp_status:t.responseStatus},i=n.getState(Oe.SW_READY);void 0!==i&&(a.sw_ready="".concat(i)),n.callback.report(a),n.callbackEnabled.freq&&(null===(o=(e=n.callback).freq)||void 0===o||o.call(e,a))}}))}}],[{key:"getInstance",value:function(){if(null===t._instance){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(0===n.length)throw new Error("HookSwitcher should be initialized with reporter and rules");Q(t,n)}return t._instance}}]),t}();qe._instance=null;var Ee,Ne,Ae,Te=[r],$e=(Ee=function(){return Dt(void 0,void 0,void 0,B().mark((function e(){var n,o;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:o={eventName:l,source:t},n.waiting?n.waiting.postMessage(o):n.addEventListener("updatefound",(function(){var t;null===(t=n.installing)||void 0===t||t.addEventListener("statechange",(function(){var t;null===(t=n.waiting)||void 0===t||t.postMessage(o)}))}));case 7:case"end":return e.stop()}}),e)})))},Ae=!1,function(){if(!Ae){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ne=Ee.apply(this,e),Ae=!0}return Ne}),Ce=function(e,n){var o=Kt(Y({},zt,e)),r=e.filter((function(t){return-1!==o.indexOf("".concat(zt,"_").concat(t.ruleName))})),a=T(document.URL,r);if(S.log("network freq rule:",JSON.stringify(a,null,2)),void 0===a)return pt;var i=a.freqSampleRate,c=a.reportList;return function(e){if(c.some((function(t){return"*"===t||e.request_url.startsWith(t)}))){var o={type:zt,eventDetail:{method:e.method,url:e.request_url,freqSampleRate:i},time:e.request_time};n.pushEvent(p,o,t)}}};function Pe(e){var n={apis:[{apiName:"execCommand",apiObj:"document",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"paste"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"execCommand",apiObj:"document",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"copy"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"readText",apiObj:"navigator.clipboard",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"writeText",apiObj:"navigator.clipboard",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getUserMedia",apiObj:"navigator.mediaDevices",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!0],withStack:!0},{apiName:"getUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"webkitGetUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"mozGetUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"ondeviceorientation",apiObj:"",apiType:"attribute_set",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"ondeviceorientationabsolute",apiObj:"",apiType:"attribute_set",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getCurrentPosition",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!1,!1,!0],withStack:!1},{apiName:"watchPosition",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!1,!1,!0],withStack:!1},{apiName:"clearWatch",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[],withStack:!1},{apiName:"AbsoluteOrientationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"GravitySensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Gyroscope",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"LinearAccelerationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Magnetometer",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"RelativeOrientationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Accelerometer",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:.5,withRawArguments:[!0],withStack:!1},{apiName:"vibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:.1,withRawArguments:[],withStack:!0},{apiName:"webkitVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"mozVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"msVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getDisplayMedia",apiObj:"navigator.mediaDevices",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.01,paramCondition:{0:"deviceorientation"},sampleRate:.01,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.01,paramCondition:{0:"devicemotion"},sampleRate:.01,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"MozOrientation"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.1,paramCondition:{0:"deviceorientationabsolute"},sampleRate:.1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"referrer",apiObj:"document",apiType:"attribute_get",block:!1,freqSampleRate:1e-4,paramCondition:{},sampleRate:1e-4,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Notification",apiObj:"",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"mozNotification",apiObj:"navigator",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"webkitNotification",apiObj:"",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1}],enabled:!0},o={fpBody:"0.1",freq:[{freqSampleRate:1,reportList:["https://www.google-analytics.com/collect","https://www.google-analytics.com/j/collect","https://www.google-analytics.com/g/collect"],ruleName:"ga",urlPattern:["www.tiktok.com/amp/tag/","getstarted.tiktok.com/","www.tiktok.com/business"]}],intercept:[{blocklist:["https://sf16-scmcdn2-sg.ipstatp.com","https://ipolyfill-polyfill.byte-gslb.com","https://ad-debug-i18n-sg.bytedance.net","https://edge-upload-boei18n.bytedance.net","https://mcs.tobsnssdk.com","https://ttspc.addone.bytedance.net","https://lin2gk5l9o.larksuite.com","https://cyt-browser.tos-s3-cn-guangzhou.volces.com","https://oa-1.bytedance.com","https://so.toutiao.com","https://lf3-beecdn.bytetos.com","https://sf1-cdn-tos.toutiaostatic.com","https://business-sso-boe.bytedance.net","https://code-coverage.bytedance.net","https://ea-common-1.bytedance.com","https://component-api-pre.bytedance.net","https://p6-magic.byteimg.com","https://eatools.bytedance.net","https://tosv-boei18n.byted.org","https://verify.snssdk.com","https://mcs.snssdk.com","https://sf16-short-va.bytegoofy.com","https://p3-ea.byteimg.com","https://ngcc.bytedance.com","https://rtwatchdog.bytedance.net","https://p3-starfe.xingtu.cn","https://pull-flv-l6.douyincdn.com","https://internal-api-lark-api.feishu.cn","https://lf26-cdn-tos.draftstatic.com","https://location-sg.bytedance.com","https://p-boei18n.byted.org","https://unpkg.byted-static.com","https://p-boei18n.bytedance.net","https://open.feishu.cn","https://s16-imfile-sg.feishucdn.com","https://component-api.bytedance.net","https://lf3-ea.bytetos.com","https://unpkg.pstatp.com","https://p9-magic.byteimg.com","https://lf3-csp.bytetos.com","https://location-va.bytedance.com","https://sf1-scmcdn-tos.pstatp.com","https://abtestvm.bytedance.com","https://ipolyfill-origin-us.bytedance.com","https://creativecloud-deliver.bytedance.com","https://lf9-cdn-tos.draftstatic.com","https://cloud.bytedance.net","https://sf-unpkg-src.bytedance.net","https://starling.snssdk.com","https://tosv.boei18n.bytedance.net","https://lf6-cdn-tos.bytescm.com","https://p16.hypstarcdn.com","https://lf1-cdn-tos.bytescm.com","https://log.snssdk.com","https://ad.bytedance.net","https://mon.zijieapi.com","https://p1-ea.byteimg.com","https://lf16-unpkg-i18n.byted-static.com","https://p1-goku.byteimg.com","https://lf3-cdn-tos.draftstatic.com","https://open.us-east-1.bytedanceapi.com","https://vas.snssdk.com","https://www.feishu.cn","https://sf1-dycdn-tos.pstatp.com","https://mmm.bytedance.net","https://p6-ea.byteimg.com","https://sf3-scmcdn2-cn.feishucdn.com","https://ea-platform-1.bytedance.com","https://vod.ap-singapore-1.bytedanceapi.com","https://lf-rc1.yhgfb-cn-static.com","https://video-va-public.bytedance.net","https://mcs.zijieapi.com","https://lf-waf-oversea.byted-static.com","https://lf3-cdn-tos.bytegoofy.com","https://s3-fs.pstatp.com","https://sf16-scmcdn-oversea.bytegoofy.com","https://pan16.larksuitecdn.com","https://ea-platform-pre.bytedance.net","https://www.douyin.com","https://p1.ipstatp.com","https://lf3-short.bytegoofy.com","https://vod.us-east-1.bytedanceapi.com","https://f-p-sandbox.bytedance.net","https://toblog.tobsnssdk.com","https://ea-qa.bytedance.net","https://pull-flv-l26.douyincdn.com","https://video-sg-public.bytedance.net","https://pull-flv-l11.douyincdn.com","https://ssa.bytedance.net","https://abtestvm-sg.bytedance.com","https://wrizgjh3hd.larksuite.com","https://pull-l3.douyincdn.com","https://imagex.ap-singapore-1.bytedanceapi.com","https://lf1-cdn-tos.bytegoofy.com","https://lf3-pendah.bytetos.com","https://sf1-cdn-tos.douyinstatic.com","https://p-vcloud.byteimg.com","https://v-akamai-boei18n-a.bytedance.net","https://vas-boei18n.bytedance.net","https://sf16-short-sg.bytegoofy.com","https://lf3-static.bytednsdoc.com","https://internal-api-lark-file.larksuite.com","https://lf26-img-sign.bytehwm.com","https://s2.pstatp.com","https://sf6-scmcdn-tos.pstatp.com","https://lf3-zone.bytetos.com","https://p9-ea.byteimg.com","https://lf3-analytics.bytescm.com","https://lf-cdn-tos.bytescm.com","https://vcs.snssdk.com","https://oa-outer-pre-sg.bytedance.net","https://zone-openapi-sg.zijieapi.com","https://bytedance.feishu.cn","https://ea-common-pre.bytedance.net","https://chameleon-i18n.bytedance.com","https://hf1csrshce.larksuite.com","https://bytedance.sg.feishu.cn","https://p3-magic.byteimg.com","https://itiktok.com","https://lf3-short.ibytedapm.com","https://tosv.boe.byted.org","https://pixelqa.web.bytedance.net","https://lf3-config.bytetcc.com","https://next.larksuite.com","https://p16a.hypstarcdn.com","https://s1-imfile.feishucdn.com","https://s3-imfile.feishucdn.com","https://www.google-analytics.com/analytics.js","https://stats.g.doubleclick.net/j/collect","https://www.google-analytics.com/j/collect","https://ssl.google-analytics.com/__utm.gif"],replace:{"http://":"https://","https://mon.zijieapi.com/":"https://mon.tiktokv.com/","https://pan16.larksuitecdn.com/":"https://staff-profile.tiktokcdn.com/","https://s1-imfile.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://s16-imfile-sg.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://s3-imfile.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://unpkg.byted-static.com/":"https://sf-unpkg.tiktokcdn.com/obj/unpkg-va/","https://vcs.snssdk.com/":"https://vcs-va.byteoversea.com/","https://verify.snssdk.com/":"https://verification-va.byteoversea.com/"},ruleName:"crossborder_config",urlPattern:["partner.eu.tiktokshop.com","seller.eu.tiktokglobalshop.com","shop-academy-us.tiktok.com","ttlive.tiktok.com","tcs.tiktokv-us.com","shop.tiktokglobalshop.com","in.tiktok.com","affiliate.tiktok.com","m.tiktok.shop","api.tiktokv.com","music.us.tiktokv.com","aeolus-clover-pipo.tiktok-eu.net","seller-uk.tiktok.com","ads.us.tiktok.com","livecenter.tiktok.com","campaign15-normal-alisg.tiktokv.com","inapp.tiktokv.com","seller.tiktok.com","web-sg.tiktok.com","seller-uk-accounts.tiktok.com","cp-game.tiktok.com","csp-feedback.tiktokv-us.com","feedback.tiktokv.com","api-m.tiktok.com","web-i18n.tiktok.com","api.tiktokglobalshopv.com","eu.safety-enforcement.tiktok.com","live-backstage.tiktok.com","api16-normal-n-alisg.tiktokv.com","activity-va.tiktok.com","activity-i18n.tiktok.com","partner.tiktokshop.com","campaign.us.tiktokv.com","seller-sg.tiktok.com","music-va.tiktokv.com","affiliate.tiktokglobalshop.com","scm-us.tiktok.com","campaign-va.tiktokv.com","www-useast1a.tiktok.com","ad-instantpage-sg.tiktokv.com","ad-instantpage-i18n.tiktokv.com","seller-my.tiktok.com","accounts.scm-us.tiktok.com","now.tiktok.com","seller.eu.tiktok.com","mediamatch.tiktok.com","careers.tiktok.com","inapp-va.tiktokv.com","survey.tiktokv-eu.com","creatormarketplace.tiktok.com","safety-enforcement.tiktok.com","music.tiktok.com","solution.tiktokshop.com","web-va.tiktok.com","lp-va.tiktok.com","www.tiktokv.com","api.tiktok.com","lp-sg.tiktok.com","tv.tiktok.com","seller-sandbox.tiktokglobalshop.com","supplier.tiktokglobalshop.com","music-i18n.tiktokv.com","oec-api.tiktokv.com","www.tiktokglobalshop-governance.com","seller-ph.tiktok.com","partner.us.tiktokshop.com","campaign-sg.tiktokv.com","ippc.tiktokglobalshop.com","ad-instantpage-va.tiktokv.com","developers.tiktok-shops.com","support.tiktok.com","ad-instantpage.us.tiktokv.com","www.tiktok.com","ads-useast2a.tiktok.com","developers.tiktok.com","campaign-i18n.tiktokv.com","lf16-gecko-source.tiktokcdn.com","music-promo.tiktok.com","seller-sandbox.tiktok.com","newsroom.in.tiktok.com","activity.tiktok.com","vt.tiktok.com","t.tiktok.com","affiliate-us.tiktok.com","effecthouse.tiktok.com","hybrid.music.tiktok.com","seller-vn.tiktok.com","inapp-sg.tiktokv.com","webcast.tiktokv.com","brandportal.tiktokshop.com","newsroom.tiktok.com","fp.us.tiktokv.com","seller-us.tiktok.com","lf-main-gecko-source.tiktokcdn.com","business.tiktok.com","adsintegrity.us.tiktok.com","us.tiktok.com","opus.tiktokv-us.com","shop.tiktok.com","tiktok-opencart.com","csp.tiktokv-us.com","ads-va.tiktok.com","ads.tiktok.com","www.tiktokus.info","partner.tiktokglobalshop.com","campaign16-normal-useast1a.tiktokv.com","music.tiktokv.com","business-api.tiktok.com","lf19-gecko-source.tiktokcdn.com","ttlive-va.tiktok.com","getstarted.tiktok.com","lp.tiktok.com","partner-us.tiktok.com","academy-outbound-ads.tiktok.com","m.tiktok.com","www.tiktokinfo.in","pick-pico.tiktok.com","seller-id.tiktok.com","order-snapshot.tiktokglobalshop.us","seller-th.tiktok.com","seller.tiktokglobalshop.com","seller-us-accounts.tiktok.com","lf77-gecko-source.tiktokcdn.com","survey.tiktok.com","lf16-cdn-tos.tiktokcdn-us.com","www.tiktok.com","getstarted.tiktok.com"]},{replace:{"http://":"https://"},ruleName:"plaintext_config",urlPattern:["webcast-va.tiktokv.com","ads-crm.tiktok.com","support.us.tiktok.com","tiktok.com","services.tiktokshop.com"]},{blocklist:["v3-webg.douyinvod.com","https://kefu-config.bytedance.com","https://data.bytedance.net","feedback-va.bytedance.net","people.us-east-fn.bytedance.net","https://www.google-analytics.com","https://lf3-short.ibytedapm.com","https://www.douyin.com","https://mcs.snssdk.com","https://s16-imfile-sg.feishucdn.com","https://s1-imfile.feishucdn.com","https://sf16-short-sg.bytegoofy.com","https://verify.snssdk.com","https://mon.zijieapi.com","https://f-p-sandbox.bytedance.net","https://mcs.zijieapi.com","https://mcs.tobsnssdk.com","https://pan16.larksuitecdn.com","https://sf1-scmcdn-tos.pstatp.com","https://lf3-static.bytednsdoc.com","https://cloud.bytedance.net","https://vcs.snssdk.com","https://toblog.tobsnssdk.com","https://sf16-scmcdn-oversea.bytegoofy.com","https://cms.bytedance.net","https://vas.snssdk.com","https://s3-imfile.feishucdn.com","https://p-boei18n.byted.org","https://sf16-scmcdn2-sg.ipstatp.com","https://lf-waf-oversea.byted-static.com","https://sf6-scmcdn-tos.pstatp.com","https://s16.hypstarcdn.com","https://semi.bytedance.net","https://tosv-boei18n.byted.org","https://p-boei18n.bytedance.net","https://p6-magic.byteimg.com","https://lf3-cdn-tos.bytegoofy.com","https://p1-goku.byteimg.com","https://ttspc.addone.bytedance.net","https://auth-sandbox.tiktok-shops.com","https://mcs.ctobsnssdk.com","https://lf3-ea.bytetos.com","https://vcq9a89p.fn.bytedance.net","https://jgubdw3n.sg-fn.bytedance.net","https://auth.tiktok-shops.com","https://sf-unpkg-src.bytedance.net","https://location-sg.bytedance.com","https://lf3-cdn-tos.bytescm.com","https://cyt-browser.tos-s3-cn-guangzhou.volces.com","https://p16a.hypstarcdn.com","https://imagex.ap-singapore-1.bytedanceapi.com","https://bytedance.sg.feishu.cn","https://wrizgjh3hd.larksuite.com","https://internal-api-drive-stream.feishu.cn","https://pull-flv-f1.douyincdn.com","https://unpkg.bytedance.net","https://lf3-csp.bytetos.com","https://lf3-short.bytegoofy.com","https://cloudapi.bytedance.net","https://unpkg.byted-static.com","https://p9-magic.byteimg.com","https://pull-flv-l1.douyincdn.com","https://lf16-unpkg-i18n.byted-static.com","https://ad.bytedance.net","https://bytedance.feishu.cn","https://sf1-cdn-tos.toutiaostatic.com","https://pull-l3.douyincdn.com","https://pull-flv-l26.douyincdn.com","https://lf-cdn-tos.bytescm.com","https://sf16-short-va.bytegoofy.com","https://hf1csrshce.larksuite.com","https://vod.ap-singapore-1.bytedanceapi.com","https://lf3-cdn-tos.draftstatic.com","https://sf16-scmcdn2-gcp.ipstatp.com","https://lf3-pendah.bytetos.com","https://lin2gk5l9o.larksuite.com","https://bytedance.us.feishu.cn","https://lf3-beecdn.bytetos.com","https://lf9-cdn-tos.draftstatic.com","https://p1.ipstatp.com","https://p-vcloud.byteimg.com","https://v-akamai-boei18n-a.bytedance.net","https://vas-boei18n.bytedance.net","https://mmm.bytedance.net","https://s3-fs.pstatp.com","https://tosv.boei18n.bytedance.net","https://rtwatchdog.bytedance.net","https://p-brand-va.bytedance.net","https://sf3-ttcdn-tos.pstatp.com","https://chameleon-i18n.bytedance.com","https://p9-dy.byteimg.com","https://open.feishu.cn","https://tosv.boe.byted.org","https://sf6-ttcdn-tos.pstatp.com","https://sf3-fe-tos.pglstatp-toutiao.com","https://p1-arco.byteimg.com","https://edge-upload-boei18n.bytedance.net","https://next-sg.larksuite.com","https://lf1-cdn2-tos.bytegoofy.com","https://sf1-ttcdn-tos.pstatp.com","https://video-boei18n.byted.org","https://so.toutiao.com","https://ssa.bytedance.net","https://lf26-img-sign.bytehwm.com","https://video-i18n.bytedance.net","https://video-sg-public.bytedance.net","https://tosv.byted.org","https://tosv.boei18n.byted.org","https://sf3-scmcdn2-cn.feishucdn.com","https://video-va-public.bytedance.net","https://lf26-cdn-tos.draftstatic.com","https://starling.snssdk.com","https://analytics.oceanengine.com","https://internal-api-drive-stream.larksuite.com","https://www.bytedance.com","https://s3-fe-scm.pglstatp-toutiao.com","https://lf1-cdn-tos.bytegoofy.com","https://sf1-cdn-tos.douyinstatic.com","https://isub.snssdk.com","https://lf9-img-sign.bytehwm.com","https://boe.i.snssdk.com","https://semi-us.bytedance.net","https://sf16-scmcdn.larksuitecdn.com","https://lf3-config.bytetcc.com","https://business-sso-boe.bytedance.net","https://ipolyfill-origin-us.bytedance.com","https://itiktok.com","https://pull-flv-l11.douyincdn.com","https://s2.pstatp.com","https://lf1-cdn-tos.bytescm.com","https://r4lkg635gb.larksuite.com","https://internal-api-drive-stream-sg.feishu.cn"],replace:{"http://":"https://","https://auth-sandbox.tiktok-shops.com/":"https://auth-sandbox.tiktokshop.com/","https://mon.zijieapi.com/":"https://mon.tiktokv.com/","https://pan16.larksuitecdn.com/":"https://staff-profile.tiktokcdn.com/","https://s1-imfile.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://s16-imfile-sg.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://s3-imfile.feishucdn.com/":"https://staff-profile.tiktokcdn.com/","https://unpkg.byted-static.com/":"https://sf-unpkg.tiktokcdn.com/obj/unpkg-va/","https://vcs.snssdk.com/":"https://vcs-va.byteoversea.com/","https://verify.snssdk.com/":"https://verification-va.byteoversea.com/"},ruleName:"usinfo_ua_block",urlPattern:["www.tiktokus.info"]},{conditions:[{field:"cookie_hubspot",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$eq:"forms.hsforms.com"},type:"host"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"hubspot_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$regex:"^(www.google-analytics.com|analytics.google.com|stats.g.doubleclick.net|region1.analytics.google.com)$"},type:"host"},{pattern:{$prefix:"/g/collect"},type:"path"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"www.google-analytics.com/mp/collect"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$regex:"^www.google.[\\S+]$"},type:"host"},{pattern:{$prefix:"/pagead/1p-user-list/735939924"},type:"path"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$regex:"^(googleads.g.doubleclick.net|www.googleadservices.com)$"},type:"host"},{pattern:{$regex:"^/pagead/(viewthroughconversion|conversion)$"},type:"path"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$regex:"^(www.google.com|googleads.g.doubleclick.net)$"},type:"host"},{pattern:{$prefix:"/pagead/landing"},type:"path"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_fbp",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"www.facebook.com/tr"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"facebook_pixel_cookie_consent_error"},{conditions:[{field:"cookie_fbp",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"connect.facebook.net/signals/config"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"facebook_pixel_cookie_consent_error"},{conditions:[{field:"cookie_lip",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$eq:"px.ads.linkedin.com"},type:"host"},{pattern:{$regex:"^/(wa|collect)/?$"},type:"path"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"linkedin_cookie_consent_error"},{conditions:[{field:"cookie_bing",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"bat.bing.com/action/0"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"bing_cookie_consent_error"},{conditions:[{field:"cookie_bing",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"bat.bing.com/p/insights/c"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"bing_cookie_consent_error"},{conditions:[{field:"cookie_ttads",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"analytics.tiktok.com/api/v2/pixel"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"tiktok_pixel_cookie_consent_error"},{conditions:[{field:"cookie_reddit",pattern:{$ne:!0},type:"context"},{field:"region",pattern:{$regex:"^eu-ttp|gcp$"},type:"context"},{pattern:{$text:"alb.reddit.com/rp.gif"},type:"url"}],handlers:[{handler:"report",type:"self"}],priority:0,ruleName:"reddit_cookie_consent_error"}],rawVal:[{endpoint:["https://maliva-mcs.byteoversea.com/list","https://maliva-mcs.byteoversea.com/v1/list","https://mcs-i18n.tiktok.com/v1/list","https://mcs-ie.tiktokw.eu/list","https://mcs-ie.tiktokw.eu/v1/list","https://mcs-sg.tiktok.com/list","https://mcs-sg.tiktok.com/v1/list","https://mcs-sg.tiktokv.com/list","https://mcs-sg.tiktokv.com/v1/list","https://mcs-ttp2.us.tiktok.com/v1/list","https://mcs-va-useast2a.tiktokv.com/list","https://mcs-va-useast2a.tiktokv.com/v1/list","https://mcs-va.tiktok.com/list","https://mcs-va.tiktok.com/v1/list","https://mcs-va.tiktokv.com/list","https://mcs-va.tiktokv.com/v1/list","https://mcs.snssdk.com/list","https://mcs.snssdk.com/v1/list","https://mcs.tiktokv.us/v1/list","https://mcs.tiktokw.us/list","https://mcs.tiktokw.us/v1/list","https://mcs.us.tiktok.com/list","https://mcs.us.tiktok.com/v1/list","https://mcs.us.tiktokv.com/v1/list","https://mcs.zijieapi.com/list","https://sgali-mcs.byteoversea.com/list","https://sgali-mcs.byteoversea.com/v1/list"],keyPath:["0.header.app_id","0.header.sdk_lib","0.header.sdk_version","0.events.0.event"]}],respHeaders:["content-type"],sampleRate:.03,withStack:[{endpoint:["cursors-4u.net","cursor.cc"],rate:.1,urlPattern:["www.tiktok.com"]}]};It(e,{blockers:[{cookies:["MONITOR_WEB_ID","MONITOR_DEVICE_ID"],domains:["tiktok.com","tiktokv.com"]}],enabled:!0,sampleRate:.2,stackCollectCookies:[]}),Bt(e),function(t,e){te({webapiHook:wt((function(e){t.pushEvent(a,e)})),webapiFreqHook:Gt?wt((function(e){t.pushEvent(p,e)})):void 0},e)}(e,n),function(e,n){var o=n.freq,a=void 0===o?[]:o,i=n.sampleRate,l={report:gt(wt((function(n){e.pushEvent(r,{eventName:r,eventMetrics:{count:1},eventDetail:n},t,{sample_rate:i})})),i),freq:Gt?wt(Ce(a,e)):void 0},p=new qe(l,n,{freq:a.length>0},Nt().pageContext);if(navigator&&"serviceWorker"in navigator){navigator.serviceWorker.addEventListener("message",wt((function(n){var o;if(n.data.event===d){var a=n.data.data;-1!==Te.indexOf(a.eventName)&&(null!==(o=a.eventDetail)&&void 0!==o?o:{}).rule_name&&gt((function(){e.pushEvent(a.eventName,a,t,{sample_rate:i})}),i)(),r!==a.eventName||a.sw_version||$e()}else n.data.event===f&&n.data.error&&e.pushError(n.data.error)})));var u={eventName:s,source:t};navigator.serviceWorker.ready.then((function(t){var e,n;p.setState(Oe.SW_READY,1),null===(n=null!==(e=null==t?void 0:t.active)&&void 0!==e?e:navigator.serviceWorker.controller)||void 0===n||n.postMessage(u)}))}else e.pushEvent(c)}(e,o)}var Le="__PUMBAA_RUN_FLAG__";try{(function(){if(/ByteLocale/g.test(navigator.userAgent))return!1;var t=!0;return window.Garfish&&(t=window.Garfish.getGlobalObject()===window),!(!t||window[Le]||(window[Le]=1,0))})()&&function(t,n){return function(){var o=Date.now(),r=t.apply(void 0,arguments);return b().pushEvent(u,{metrics:{time:Date.now()-o},categories:{version:"2.0.0.101",runtime_env:e,module:n}}),r}}((function(){if(window.Symbol){var t=b();wt(Pe)(t);var e=v(),n=document.createElement("script"),o=document.currentScript,r=o.src,a=o.dataset,i=r.substring(0,r.lastIndexOf("/")),c="".concat(i,"/core.js","?globalName=").concat(e);n.src=c,n.crossOrigin="anonymous",n.async=!0,Object.assign(n.dataset,a),document.head.appendChild(n),document.head.removeChild(n)}}),"loader")()}catch(t){}}();
